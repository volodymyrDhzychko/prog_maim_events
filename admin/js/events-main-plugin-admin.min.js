function openEditor(e,t){var a,n,i;for(n=document.getElementsByClassName("tabcontent"),a=0;a<n.length;a++)n[a].style.display="none";for(i=document.getElementsByClassName("tablinks"),a=0;a<i.length;a++)i[a].className=i[a].className.replace(" active","");document.getElementById(t).style.display="block",e.currentTarget.className+=" active"}function nextClick(t){var a,n;for(a=document.getElementsByClassName("tabcontent"),s=0;s<a.length;s++)a[s].style.display="none";for(n=document.getElementsByClassName("tablinks"),s=0;s<n.length;s++)n[s].className=n[s].className.replace(" active","");document.getElementById(t).style.display="block";for(var i=document.getElementsByClassName(t),s=0;s<i.length;s++)i[s].classList.add("active")}function openSettings(e,t){var a,n,i;for(n=document.getElementsByClassName("tabcontent"),a=0;a<n.length;a++)n[a].style.display="none";for(i=document.getElementsByClassName("tablinks"),a=0;a<i.length;a++)i[a].className=i[a].className.replace(" active","");document.getElementById(t).style.display="block",e.currentTarget.className+=" active"}var $=jQuery;function hide_pagination(){$("#email_history tbody tr").length>10?($("#email_history_info").show(),$("#email_history_paginate").show()):($("#email_history_info").hide(),$("#email_history_paginate").hide())}jQuery(document).ready(function(){jQuery(".taxonomy-add-new-cat").click(function(){jQuery("#events_categories-add").toggleClass("wp-hidden-child")}),jQuery(".taxonomy-add-new-tags").click(function(){jQuery("#events_tags-add").toggleClass("wp-hidden-child")}),jQuery(".taxonomy-add-new-arabic-cat").click(function(){jQuery("#events_arabic_categories-add").toggleClass("wp-hidden-child")}),jQuery(".taxonomy-add-new-arabic-tags").click(function(){jQuery("#events_arabic_tags-add").toggleClass("wp-hidden-child")}),jQuery(".dffmain-category-add-submit").click(function(){var e=jQuery("#newevents_categories").val(),t=jQuery("#newevents_categories_parent").val(),a=jQuery(".post_id").val();""!==e&&jQuery.ajax({url:ajax_object.ajaxurl,type:"POST",data:{action:"category_add_submit",newevents_categories:e,newevents_categories_parent:t,post_id:a},success:function(e){if("-1"===t){document.getElementById("events_categorieschecklist").innerHTML+=e}else{var a="event_child_"+t;document.getElementById(a).innerHTML+=e}jQuery("#newevents_categories").val(""),jQuery("#newevents_categories_parent").val("-1")}})}),jQuery(".dffmain-tags-add-submit").click(function(){var e=jQuery("#newevents_tags").val(),t=jQuery("#newevents_tags_parent").val(),a=jQuery(".post_id").val();""!==e&&jQuery.ajax({url:ajax_object.ajaxurl,type:"POST",data:{action:"tags_add_submit",newevents_tags:e,newevents_tags_parent:t,post_id:a},success:function(e){if("-1"===t){document.getElementById("events_tagsschecklist").innerHTML+=e}else{var a="event_child_"+t;document.getElementById(a).innerHTML+=e}jQuery("#newevents_tags").val(""),jQuery("#newevents_tags_parent").val("-1")}})}),jQuery(".category-add-arabic-submit").click(function(){var e=jQuery("#newevents_arabic_categories").val(),t=jQuery("#newevents_arabic_categories_parent").val(),a=jQuery(".post_id").val();""!==e&&jQuery.ajax({url:ajax_object.ajaxurl,type:"POST",data:{action:"category_add_arabic_submit",newevents_arabic_categories:e,newevents_arabic_categories_parent:t,post_id:a},success:function(e){if("-1"===t){document.getElementById("events_arabic_categorieschecklist").innerHTML+=e}else{var a="event_child_"+t;document.getElementById(a).innerHTML+=e}jQuery("#newevents_arabic_categories").val(""),jQuery("#newevents_arabic_categories_parent").val("-1")}})}),jQuery(".tags-add-arabic-submit").click(function(){var e=jQuery("#newevents_arabic_tags").val(),t=jQuery("#newevents_arabic_tags_parent").val(),a=jQuery(".post_id").val();""!==e&&jQuery.ajax({url:ajax_object.ajaxurl,type:"POST",data:{action:"tags_add_arabic_submit",newevents_arabic_tags:e,newevents_arabic_tags_parent:t,post_id:a},success:function(e){if("-1"===t){document.getElementById("events_arabic_tagsschecklist").innerHTML+=e}else{var a="event_child_"+t;document.getElementById(a).innerHTML+=e}jQuery("#newevents_arabic_tags").val(""),jQuery("#newevents_arabic_tags_parent").val("-1")}})}),$("body").on("click",".upload_event_detail_image_button",function(e){e.preventDefault();var t=$(this),a=wp.media({title:"Insert image",library:{type:"image"},button:{text:"Use this image"},multiple:!1}).on("select",function(){var e=a.state().get("selection").first().toJSON(),n=document.getElementsByClassName("upload_event_detail_image_button")[0];n&&(n.innerHTML='<img class="true_pre_image" src="'+e.url+'" style="max-width:95%;display:block;" />'),$(t).removeClass("button").next().val(e.id).next().show()}).open()}),$("body").on("click",".remove_event_detail_image",function(){$(this).hide().prev().val("");var e=document.getElementsByClassName("upload_event_detail_image_button")[0];return e&&(e.innerHTML="Set event detail image"),!1}),jQuery(".add_sites_button").on("click",function(){var e=jQuery(".add_sites_field").val();""===e&&jQuery(".add_sites_field").css("border","1px solid red"),""!==e&&jQuery.ajax({url:ajax_object.ajaxurl,type:"POST",data:{action:"add_child_sites_action",add_sites_field:e},success:function(e){document.getElementsByClassName("add_site_table")[0].innerHTML+=e,jQuery(".add_sites_field").val("").css("border","1px solid #7e8993")}})}),jQuery(document).on("click",".delete_site_button",function(e){if(1!=confirm("Are you sure you wish to delete this site?"))return!1;var t=jQuery(this).parent().siblings(".siteurl").text(),a=jQuery(this).closest("tr");jQuery.ajax({url:ajax_object.ajaxurl,type:"POST",data:{action:"delete_sites_action",delete_site_button:t},success:function(e){a.fadeOut("normal",function(){$(this).remove()})}})}),jQuery("#email_history").DataTable({deferRender:!0,searching:!1,paging:!0,lengthChange:!1,autoWidth:!1,language:{emptyTable:"Not Found"},columns:[{width:"14%"},{width:"33%"},{width:"33%"},{width:"20%"}]}),jQuery(document).on("click",".accordian_email_history > .accordian-main > .accordian-title, .registration-form-wrap .accordian-main .accordian-title",function(){$(this).next(".accordian-body").slideToggle().parent(".accordian-main").toggleClass("accordian-open")}),jQuery(document).on("click",".save_next",function(){var e=$("#post_ID").val(),t=$(this).next().val(),a=$("input[name=dffmain_post_title]").val(),n=jQuery("#events_overview_ifr").contents().find("#tinymce").html(),i=jQuery("#dffmain_events_agenda_ifr").contents().find("#tinymce").html(),s=jQuery(".dffmain_event_location").val(),c=$("input[name=arabic_post_title]").val(),o=jQuery("#events_arabic_overview_ifr").contents().find("#tinymce").html(),l=jQuery("#events_arabic_agenda_ifr").contents().find("#tinymce").html(),r=jQuery(".arabic_event_location").val(),d=[],u=[],_=[],y=[];$.each($("input[name='emp_category[]']:checked"),function(){d.push($(this).val())}),$.each($("input[name='emp_tags[]']:checked"),function(){u.push($(this).val())}),$.each($("input[name='emp_arabic_category[]']:checked"),function(){_.push($(this).val())}),$.each($("input[name='emp_arabic_tags[]']:checked"),function(){y.push($(this).val())}),jQuery.ajax({url:ajax_object.ajaxurl,type:"POST",data:{action:"dff_save_next_click_ajax",postID:e,dffmain_post_title:a,events_overview:n,dffmain_events_agenda:i,dffmain_event_location:s,arabic_post_title:c,events_arabic_overview:o,events_arabic_agenda:l,arabic_event_location:r,emp_category:d,emp_tags:u,emp_arabic_category:_,emp_arabic_tags:y},success:function(e){nextClick(t)},beforeSend:function(){jQuery("body").addClass("is-loading")},complete:function(){jQuery("body").removeClass("is-loading")}})}),jQuery(".btn-send-email").click(function(){var e=jQuery(".post_id").val(),t=jQuery("#event_send_email_english_ifr").contents().find("#tinymce").html(),a=jQuery("#event_send_email_arabic_ifr").contents().find("#tinymce").html(),n=jQuery(".dffmain_mail_subject").val(),i=jQuery(".arabic_mail_subject").val(),s=!1;""!==t&&""!==a&&""!==n&&""!==i?s=!0:""!==i&&""!==a&&'<p><br data-mce-bogus="1"></p>'!==a?s=!0:""!==n&&""!==t&&'<p><br data-mce-bogus="1"></p>'!==t&&(s=!0),!0===s&&jQuery.ajax({url:ajax_object.ajaxurl,type:"POST",data:{action:"event_send_special_single_email",post_id:e,dffmain_event_content:t,arabic_content:a,dffmain_event_subject:n,arabic_subject:i},success:function(e){jQuery(".email_history").html(e),jQuery("#email_history").DataTable({deferRender:!0,searching:!1,paging:!0,lengthChange:!1,autoWidth:!1,destroy:!0,columns:[{width:"14%"},{width:"33%"},{width:"33%"},{width:"20%"}]}),alert("Email sent!"),hide_pagination()},beforeSend:function(){jQuery("body").addClass("is-loading")},complete:function(){jQuery("body").removeClass("is-loading")}})}),jQuery(document).on("click",".view_history_action",function(e){jQuery(this).next(".email_history_popup").addClass("open-popup"),jQuery(this).next(".email_history_popup").find(".accordian-main:first-of-type:last-child").hasClass("accordian-open")||jQuery(this).next(".email_history_popup").find(".accordian-main:first-of-type").addClass("accordian-open").children(".accordian-body").css("display","block")}),jQuery(document).on("click",".email_history_popup .accordian-title",function(e){$(this).next(".accordian-body").slideDown().parent(".accordian-main").addClass("accordian-open").siblings().removeClass("accordian-open").children(".accordian-body").slideUp()}),jQuery(document).on("click",".email_history_popup .close_popup",function(){jQuery(this).parents(".email_history_popup").removeClass("open-popup")}),jQuery(document).on("click","#cancel_event_button",function(){jQuery("#cancel-event-modal").addClass("open-popup")}),jQuery(document).on("click","#cancel_event_now",function(){const e=jQuery(".post_id").val();jQuery.ajax({url:ajax_object.ajaxurl,type:"POST",data:{action:"cancel_event_ajax",post_id:e},success:function(){location.reload()},beforeSend:function(){jQuery("body").addClass("is-loading")},complete:function(){jQuery("body").removeClass("is-loading")}})}),jQuery(document).on("click","#cancel-event-modal .event-modal-close",function(){jQuery("#cancel-event-modal").removeClass("open-popup")}),jQuery(document).on("click","#post-preview",function(e){e.preventDefault();var t=$(this).attr("href");window.open(t,"_blank")}),jQuery(document).on("click",".save-post-status",function(){"cancelled"===jQuery("#post_status").val()&&jQuery("#cancel-event-modal").addClass("open-popup")}),jQuery(document).on("click",".post-type-dffmain-events #delete-action, .post-type-dffmain-events .row-actions .trash",function(e){if(!confirm("Are you sure you wish to trash this event?"))return!1}),$(".column-check_in label input").change(function(){var e=$(this).attr("id"),t="";$(this).parents(".column-check_in").find(".checkin-label").text("Loading..."),$(this).parents(".column-check_in").find(".checkin-label").css("color","#00a0d2"),t=this.checked?"true":"false";var a=$(this);jQuery.ajax({url:ajax_object.ajaxurl,type:"POST",data:{action:"dff_checkin_ajax",checked:t,attendee_id:e},success:function(e){},beforeSend:function(){jQuery("body").addClass("is-loading")},complete:function(){jQuery("body").removeClass("is-loading"),"true"===t?(a.parents(".column-check_in").find(".checkin-label").text("Checked-in"),a.parents(".column-check_in").find(".checkin-label").css("color","green")):(a.parents(".column-check_in").find(".checkin-label").text(""),a.parents(".column-check_in").find(".checkin-label").css("color","#555"))}})}),jQuery(document).on("mousemove","body",function(){var e=jQuery("#event_send_email_english_ifr").contents().find("#tinymce").html(),t=jQuery("#event_send_email_arabic_ifr").contents().find("#tinymce").html(),a=jQuery(".dffmain_mail_subject").val(),n=jQuery(".arabic_mail_subject").val();""!==e&&""!==t&&""!==a&&""!==n?jQuery(".btn-send-email").prop("disabled",!1):""!==n&&""!==t&&'<p><br data-mce-bogus="1"></p>'!==t?jQuery(".btn-send-email").prop("disabled",!1):""!==a&&""!==e&&'<p><br data-mce-bogus="1"></p>'!==e?jQuery(".btn-send-email").prop("disabled",!1):jQuery(".btn-send-email").prop("disabled",!0)}),hide_pagination()});